## Comments Done

upic inside or outside the well
comment-edit buttons margin
"commented:" text in top line
top line font size
"completed" and other comment types
normal or small upics
mobile

# Feed TODO

think about representing user/realm chambers
think about hide

comment form
frontend tests

mobile
border-radius between expand-panel and comments
optimize fetching comments
cut for comments and quests
fill bumps before deploy

## Done

/api/feed

`db->events->feed({ for => 'berekuk' })`

    [
        {
            quest: ...
            comments: [
                ...
            ]
        },
        ...
    ]

hide extra comments
realm name/icon on quest

order by bump
`db->quests->bump` method
call bump on comment

stencils in feed
[x] fill bumps
[x] reusable `bumpable` role
[x] events->feed fetches stencils

merge stencils and quests collections

## DB SCHEMA

# feed storage

{
    entity: /quest|stencil/
    bump: $ts
}

# merge stencils and quests

common:
- comments
- bump
- name+description
- realm
- points
- author

potentially common:
- tags
- watchers

not common:
- quest.note
- quest.base_points
- quest.status
- quest.team
- quest.stencil

downsides:
- awkward queries from CLI (collection name - objects? entities?)

chambers/discussions
- realm chamber - object with entity=realm
- personal chamber - object with entity=wall

list all posts for news feed:
- sort by bump
- no CC (?)
- limit, offset
- realm OR author OR team
